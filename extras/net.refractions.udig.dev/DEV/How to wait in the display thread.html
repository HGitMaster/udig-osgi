<html>
    <head>
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link rel="stylesheet" href="../book.css" type="text/css" />
        <title>UDIG Developer Guide : How to wait in the display thread</title>
    </head>
    <body BGCOLOR="#FFFFFF">
       <!-- UDIG Developer Guide : How to wait in the display thread -->
       <h1>How to wait in the display thread</h1>

       <p><b>Q:</b> How can I wait in the display thread?  For example I want the display thread to join with another thread.</p>

<p><b>A:</b> Use the display's read and dispatch method to run other jobs that are waiting for the display thread.  Only when there are no more jobs waiting(readAndDispatch returns false when no more jobs are waiting) then let the thread sleep.</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java"><span class="code-keyword">while</span>( condition ) {
    <span class="code-comment">//run a display event <span class="code-keyword">continue</span> <span class="code-keyword">if</span> there is more work todo.
</span>    <span class="code-keyword">if</span> ( display.readAndDispatch() ){
        <span class="code-keyword">continue</span>;
    }
			
    <span class="code-comment">//no more work to <span class="code-keyword">do</span> in display thread, wait on request <span class="code-keyword">if</span> request has not
</span>    <span class="code-comment">//finished
</span>    <span class="code-keyword">if</span> (condition)
        <span class="code-keyword">break</span> ;

    <span class="code-object">Thread</span>.sleep(300);
}</pre>
</div></div>	

<small>
  (c) Copyright (c) 2004-2008 Refractions Research Inc. and others.<br>
  <a href="http://udig.refractions.net/confluence/pages/viewpage.action?pageId=6506">[wiki]</a>
</small>
    </body>
</html>
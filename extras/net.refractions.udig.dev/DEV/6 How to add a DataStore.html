<html>
    <head>
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link rel="stylesheet" href="../book.css" type="text/css" />
        <title>UDIG Developer Guide : 6 How to add a DataStore</title>
    </head>
    <body BGCOLOR="#FFFFFF">
       <!-- UDIG Developer Guide : 6 How to add a DataStore -->
       <h1>6 How to add a DataStore</h1>

       <p>Start by copying a good example:</p>

<ul>
	<li>Shapefile plugin, if your DataStore uses files</li>
	<li>PostGIS plugin, if it uses a database connection</li>
</ul>


<p>The following extension points are to be extended by your plugin:</p>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> Extention </th>
<th class='confluenceTh'> Shapefile </th>
<th class='confluenceTh'> PostGIS </th>
<th class='confluenceTh'> Notes </th>
</tr>
<tr>
<td class='confluenceTd'> net.refractions.udig.catalog.ui.connectionFactory </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> x </td>
<td class='confluenceTd'> Data Wizard Page, parameters for connecting to datastore </td>
</tr>
<tr>
<td class='confluenceTd'> net.refractions.udig.catalog.ui.fileFormat </td>
<td class='confluenceTd'> x </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> This extension point just sets the file extension of your datastore </td>
</tr>
<tr>
<td class='confluenceTd'> net.refractions.udig.catalog.ServiceExtention </td>
<td class='confluenceTd'> x </td>
<td class='confluenceTd'> x </td>
<td class='confluenceTd'> Create datastore from connection parameters </td>
</tr>
<tr>
<td class='confluenceTd'> "Settings Panel" </td>
<td class='confluenceTd'> x </td>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> Preference page, optional </td>
</tr>
</tbody></table>

<p>The Shapefile plugin has a preferences page, which is not a mandatory part of a datastore plugin, so for a start you won't necessary need that.</p>

<p>You are going to have to implement (by rewriting the copy of) a couple of the core classes:</p>
<ul>
	<li>IService - Represents the DataStore
	<ul>
		<li>IServiceInfo - descriptive information about the database for file</li>
	</ul>
	</li>
	<li>IGeoResource - Represents the content of the DataStore
	<ul>
		<li>IGeoResourceInfo - descriptive information about the content. uDig reads many information about a feature type from this class, e.g. the CRS, so take care about the correct implementation, e.g. by delegation</li>
	</ul>
	</li>
</ul>


<small>
  (c) Copyright (c) 2004-2008 Refractions Research Inc. and others.<br>
  <a href="http://udig.refractions.net/confluence/pages/viewpage.action?pageId=11086">[wiki]</a>
</small>
    </body>
</html>
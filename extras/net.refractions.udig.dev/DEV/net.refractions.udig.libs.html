<html>
    <head>
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link rel="stylesheet" href="../book.css" type="text/css" />
        <title>UDIG Developer Guide : net.refractions.udig.libs</title>
    </head>
    <body BGCOLOR="#FFFFFF">
       <!-- UDIG Developer Guide : net.refractions.udig.libs -->
       <h1>net.refractions.udig.libs</h1>

       <h3><a name="net.refractions.udig.libs-%22Libs%22Plugin"></a>"Libs" Plugin</h3>

<p>The libs plugin is the "glue" between uDig and the rest of the open source world. This plugin is responsible for gathering together all the other code dependencies uDig has on the outside world.</p>

<h3><a name="net.refractions.udig.libs-Custombuild.xml"></a>Custom build.xml</h3>

<p>The libs plugin contains a custom build.xml file, this file fetches the required jars from the following locations:</p>
<ul class="alternate" type="square">
	<li><a href="http://lists.refractions.net/">http://lists.refractions.net/</a></li>
	<li>your local MAVEN repository</li>
</ul>


<p>This allows you to run uDig against the latest experimintal geotools code on your computer! More importantly it lets you test bug fixes and enhancements to these open source projects.</p>

<p>This build.xml file is called via a "builder" in eclispe, to use simply "clean" libs. You can watch the script run as it downloads all the required files.</p>

<h3><a name="net.refractions.udig.libs-UpdatingtheLibsPlugin"></a>Updating the Libs Plugin</h3>

<p>The Libs plugin can be customized in a number of ways, usually for each release:</p>

<p>Changing GeoTools versions:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;target name=<span class="code-quote">"update.gt"</span>&gt;
    &lt;property name=<span class="code-quote">"moduleName"</span> value=<span class="code-quote">"gt2"</span>/&gt;
    &lt;property name=<span class="code-quote">"geotools.version"</span> value=<span class="code-quote">"2.1.RC1"</span>/&gt;
    &lt;property name=<span class="code-quote">"geotools.snapshot"</span> value=<span class="code-quote">"2.1.1"</span>/&gt;	
    ...
&lt;/target&gt;
&lt;target name=<span class="code-quote">"update.libs"</span>&gt;
    &lt;property name=<span class="code-quote">"geoapi.version"</span> value=<span class="code-quote">"2.0-tiger"</span>/&gt;
    &lt;property name=<span class="code-quote">"geotools.version"</span> value=<span class="code-quote">"2.1.1"</span>/&gt;
    &lt;property name=<span class="code-quote">"geotools.snapshot"</span> value=<span class="code-quote">"2.1.1"</span>/&gt;	
    ....
&lt;/target&gt;</pre>
</div></div>

<p>How is this information used:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;get src=<span class="code-quote">"${repo}/${moduleName}/jars/main-${geotools.version}.jar"</span>
         dest=<span class="code-quote">"${lib}/main-${geotools.version}.jar"</span>
         usetimestamp=<span class="code-quote">"<span class="code-keyword">true</span>"</span> ignoreerrors=<span class="code-quote">"<span class="code-keyword">true</span>"</span> verbose=<span class="code-quote">"<span class="code-keyword">true</span>"</span>/&gt;
    ...
    &lt;get src=<span class="code-quote">"${updateURL}/${moduleName}/${geotools.snapshot}/main-${geotools.version}.jar"</span>
         dest=<span class="code-quote">"${lib}/main-${geotools.version}.jar"</span>
         usetimestamp=<span class="code-quote">"<span class="code-keyword">true</span>"</span> ignoreerrors=<span class="code-quote">"<span class="code-keyword">true</span>"</span> verbose=<span class="code-quote">"<span class="code-keyword">true</span>"</span>/&gt;</pre>
</div></div>

<p>If the local maven repository contains the indicated jar, it will be copied to the lib folder. If not the remote jar is copied from the update site.</p>

  <img src="http://udig.refractions.net/image/DEV/ngrelr.gif">

<p><a href="http://udig.refractions.net/confluence/display/UDIG/How+to+fix+a+broken+build">How to fix a broken build</a></p>

<small>
  (c) Copyright (c) 2004-2008 Refractions Research Inc. and others.<br>
  <a href="http://udig.refractions.net/confluence/pages/viewpage.action?pageId=6551">[wiki]</a>
</small>
    </body>
</html>